<div class="row">
     <div class="span12">
        <h3>Marlin Dealer Locator</h3>
     </div>
     
     <div class="span12 area-locator-search">
        
        <div class="pull-left">
            <label>&nbsp;</label>
            <button class="btn btn-large" ng-click="findMe()"><i class="icon-screenshot icon"></i></button>
        </div>
        
        <div class="pull-left">
            <label>Search for a location</label>
            <input type="text" required="required" ng-model="locationSearch">
            <button class="btn btn-large" ng-disabled="!locationSearch" ng-click="findMyLocation()">Find Location</button>
        </div>
        
        <div class="pull-left">
            <label>Search by Name</label>
            <input type="text" ng-model="searchText">
            <button class="btn btn-large" ng-click="searchByText()">Search</button>
            <button class="btn btn-large" ng-click="clearText()">Clear</button>
        </div>
        
        <div class="pull-left">
            <label>&nbsp;</label>
            <button class="btn btn-large" ng-show="centerHasChanged" ng-click="searchHere()">Search map location</button>
        </div>
     </div>    
</div>


<div class="row">
    
    <div class="span4">
    
        <label>Distance from location (in miles)</label>
        <div class="btn-group">
            <button ng-repeat="item in distanceOptions" class="btn" ng-click="setDistanceFrom(item)" ng-class="{active: distanceFrom == item}">{{item}}</button>
        </div>
    
        <div ng-show="markers.length">
            <h3>Results</h3>
            <p>We found {{markers.length}} Marlin dealers near you.</p>
            <table id="markerList" class="table table-striped">
                <tr ng-repeat="item in markers | orderBy:'distance'" ng-click="remoteOpenWindow(item)">
                    <td><img ng-src="{{item.logo}}" class="img-tiny"/></td>
                    <td>{{item.name}}<br/>
                    <span ng-show="item.distance">{{item.distance | number:0}} miles away</span>
                    </td>
                </tr>
            </table>
        </div>
        <div ng-show="!markers.length">
            <h3>No Results</h3>
            <p class="alert">No Marlin Dealers were founds in your area!</p>
        </div>
    </div>
    
    <div class="span8">
        
        <div class="google-map"
    		center="map.center"
    		zoom="map.zoom"
    		draggable="true"
    		dragging="map.dragging"
    		events="map.events">
    		<!-- prefedined markers -->
    		<marker ng-repeat="m in markers" coords="m" icon="m.icon" >
				<window show="m.showWindow" closeClick="m.closeClick()">
					<img ng-src="{{m.logo}}" class="img-medium"/>
					<p>{{m.name}}</p>
                    <p>{{m.businessPhone}}</p>
                    <p>{{m.businessAddress.address1}}<br/>
                    <p>{{m.businessAddress.address2}}</p>
                    <p>{{m.businessAddress.city}}, {{m.businessAddress.state}} {{m.businessAddress.zip}}</p>
					<p ng-show="m.distance">{{m.distance| number:0}} miles away</p>
					<!--
<p>This is an info window at {{ m.latitude | number:4 }}, {{ m.longitude | number:4 }}!</p>
					<p class="muted">My marker will stay open when the window is popped up!</p>
-->
				</window>
			</marker>

			<!-- marker for clicked position -->
			<marker coords="map.clickedMarker" animate="false" >
				<window isIconVisibleOnClick="false">This is my clicked marker!
					<p class="muted">My marker will reappear when you close me.</p>
				</window>
			</marker>

<!-- 			<window show="map.infoWindow.show" coords="map.infoWindow.coords" isIconVisibleOnClick="false">I should not be attached to a marker.</window> -->

		</div>
          
	</div>
        
</div>
    
    

