<div class="row vendorSection area" ui-if="vendor">
    <div class="span8 offset1">
        <h1 ng-show="!vendor.logo">{{vendor.name}}</h1>
        <a ng-show="vendor.website" href="{{vendor.website}}">
            <img class="img-rounded img-large vendor-logo" ng-src="{{vendor.logo.original}}" ng-show="vendor.logo.original" title="{{vendor.name}}" />
        </a>
        <img class="img-rounded img-large vendor-logo" ng-src="{{vendor.logo.original}}" ng-show="vendor.logo.original && !vendor.website" title="{{vendor.name}}" />
        
    </div>
    <div class="span2">
        <img class="pull-right poweredby" src="img/powered_by.png" />
    </div>
</div>

<div class="row" ng-show="!finished">
    
    <div class="span4 offset1">
        <p>{{vendor.name}}</p>
        <p>{{vendor.businessPhone}}</p>
        <p>{{vendor.businessAddress.address1}}<br/>
        <p>{{vendor.businessAddress.address2}}</p>
        <p>{{vendor.businessAddress.city}}, {{vendor.businessAddress.state}} {{vendor.businessAddress.zip}}</p>
    </div>

</div>

<form name="ApplicationToolForm" ng-show="!finished" novalidate>
    
    <div class="row area"> 
        <div class="span10 offset1">
            <h3>Payment Information</h3>
        </div>  
        <div class="span10 offset1">            
            <strong>{{application.payment.programName}}</strong>
            <table class="table">
                <thead>
                    <th class="span3">{{application.payment.buyoutOption}}</th>
                    <th class="span1">{{application.payment.term}}</th>
                </thead>
                <tbody>
                    <tr>
                        <td>{{application.payment.totalCostDisplay}}</td>
                        <td>
                            {{application.payment.paymentDisplay}}
                        </td>
                    </tr>
                </tbody>
            </table>
            
            <p><strong>Description:</strong>&nbsp;{{application.description}}</p>
            
            <p ng-show="application.customField">
                <strong>{{application.customField.displayName}}:</strong> {{application.customField.value}}
            </p>
        </div>
    </div>


    <div class="row area">   
        <div class="span10 offset1">
            <div class="row">
                <div class="span10 text-center">
                    <h3>Company Information</h3>
                </div>
            </div>
            <div form-group form="ApplicationToolForm">
                <div class="row area">
                    <div class="span5">
                        <!-- ############################################################ -->
                        <!-- ######################## Company Name ###################### -->
                        <!-- ############################################################ -->
                        <label for="companyName">Company Name</label>
                        <input form-field type="text" name="companyName" id="companyName" class="input-block" placeholder="" ng-model="application.company.fullLegalBusinessName"
                        ng-blur="Validator.validateField(ApplicationToolForm.companyName, ApplicationToolForm)" required>

                        <div ng-show="ApplicationToolForm.FacultyErrors.companyName" class="alert alert-error alert-tooltip">
                            {{ApplicationToolForm.FacultyErrors.companyName}}
                        </div>

                    </div>
                    <div class="span5">
                        <!-- ############################################################ -->
                        <!-- ######################## Address One ####################### -->
                        <!-- ############################################################ -->
                        <label for="addressOne">Address 1</label>
                        <input form-field type="text" name="addressOne" id="addressOne" class="input-block" placeholder="" ng-model="application.company.businessAddress.address1" ng-blur="Validator.validateField(ApplicationToolForm.addressOne, ApplicationToolForm)" required>

                        <div ng-show="ApplicationToolForm.FacultyErrors.addressOne" class="alert alert-error alert-tooltip">
                            {{ApplicationToolForm.FacultyErrors.addressOne}}
                        </div>
                        
                        <!-- ############################################################ -->
                        <!-- ######################## Address Two ####################### -->
                        <!-- ############################################################ -->
                        <label for="addressTwo">Address 2</label>
                        <input form-field type="text" name="addressTwo" id="addressTwo" class="input-block" placeholder="" ng-model="application.company.businessAddress.address2" ng-blur="Validator.validateField(ApplicationToolForm.addressTwo, ApplicationToolForm)">

                         <div ng-show="ApplicationToolForm.FacultyErrors.addressTwo" class="alert alert-error alert-tooltip">
                            {{ApplicationToolForm.FacultyErrors.addressTwo}}
                        </div>

                        <!-- ############################################################ -->
                        <!-- ############################ City ########################## -->
                        <!-- ############################################################ -->
                        <label for="city">City</label>
                        <input form-field type="text" name="city" id="city" placeholder="" class="input-block" ng-model="application.company.businessAddress.city" ng-blur="Validator.validateField(ApplicationToolForm.city, ApplicationToolForm)" required>

                        <div ng-show="ApplicationToolForm.FacultyErrors.city" class="alert alert-error alert-tooltip">
                            {{ApplicationToolForm.FacultyErrors.city}}
                        </div>
                        
                        <!-- ############################################################ -->
                        <!-- ############################ State ######################### -->
                        <!-- ############################################################ -->
                        <label for="state">State</label>
                        <select form-field class="input-block" name="state" id="state" ng-model="application.company.businessAddress.state" ng-options="state.abbreviation as state.name for state in states1" ng-blur="Validator.validateField(ApplicationToolForm.state, ApplicationToolForm)" required></select>

                        <div ng-show="ApplicationToolForm.FacultyErrors.state" class="alert alert-error alert-tooltip">
                            {{ApplicationToolForm.FacultyErrors.state}}
                        </div>
                        
                        <!-- ############################################################ -->
                        <!-- ############################## Zip ######################### -->
                        <!-- ############################################################ -->
                        <label for="zip">Zip</label>
                        <input form-field type="text" name="zip" id="zip" placeholder="" class="input-block" ng-model="application.company.businessAddress.zip" maxlength="5" ui-validate="{zip: 'Validator.validateZip($value)'}" ng-blur="Validator.validateField(ApplicationToolForm.zip, ApplicationToolForm)" required>

                        <div ng-show="ApplicationToolForm.FacultyErrors.zip" class="alert alert-error alert-tooltip">
                            {{ApplicationToolForm.FacultyErrors.zip}}
                        </div>
                    </div>
                </div>
            </div> <!-- End form group -->
        </div>
    </div>

    <div class="row area area-dark">   
        <div class="span10 offset1">

            <div class="row">
                <div class="span10">
                    <h3>Contact Information</h3>
                </div>
            </div>
            <div form-group form="ApplicationToolForm">
                <div class="row area">
                    <div class="span5">
                        <!-- ############################################################ -->
                        <!-- ####################### Contact Name ####################### -->
                        <!-- ############################################################ -->
                        <label for="contactName">Contact Name</label>
                        <input form-field type="text" class="input-block" id="contactName" placeholder="" ng-model="application.company.contactPerson.name" name="contactName" ng-blur="Validator.validateField(ApplicationToolForm.contactName, ApplicationToolForm)" required>

                        <div ng-show="ApplicationToolForm.FacultyErrors.contactName" class="alert alert-error alert-tooltip">
                            {{ApplicationToolForm.FacultyErrors.contactName}}
                        </div>
                    </div>
                    <div class="span5">
                        <!-- ############################################################ -->
                        <!-- ############################# Email ######################## -->
                        <!-- ############################################################ -->
                        <label for="contactEmail">Email</label>
                        <input form-field type="email" name="contactEmail" id="contactEmail" class="input-block" placeholder="" ng-model="application.company.contactPerson.email" ng-blur="Validator.validateField(ApplicationToolForm.contactEmail, ApplicationToolForm)" required>

                        <div ng-show="ApplicationToolForm.FacultyErrors.contactEmail" class="alert alert-error alert-tooltip">
                            {{ApplicationToolForm.FacultyErrors.contactEmail}}
                        </div>

                        <!-- ############################################################ -->
                        <!-- ############################# Phone ######################## -->
                        <!-- ############################################################ -->
                        <label for="contactPhone">Phone</label>
                        <input form-field type="text" name="contactPhone" id="contactPhone" class="input-block" placeholder="" ng-model="application.company.contactPerson.phone" ui-mask="(999) 999-9999" ng-blur="Validator.validateField(ApplicationToolForm.contactPhone, ApplicationToolForm)" required>

                        <div ng-show="ApplicationToolForm.FacultyErrors.contactPhone" class="alert alert-error alert-tooltip">
                            {{ApplicationToolForm.FacultyErrors.contactPhone}}
                        </div>
                    
                        <p>Preferred contact method</p>
                        <a ng-init="application.company.contactPerson.contactMethod = 'email'" ng-click="application.company.contactPerson.contactMethod = 'email'" class="btn contact-method" ng-class="{active: application.company.contactPerson.contactMethod == 'email'}">Email</a>
                        <a ng-click="application.company.contactPerson.contactMethod = 'phone'" class="btn contact-method" ng-class="{active: application.company.contactPerson.contactMethod == 'phone'}">Phone</a>
                    </div>
                </div>
            </div> <!-- End form group -->
        </div>
    </div>

    <div class="row">
    
        <div class="span10 text-center offset1">
            <h3>Please Tell Us More about Your Business</h3>
        </div>
    
        <div class="span4 offset2">
            <p>Are you a sole proprietor of this business?</p>
            <a ng-click="application.soleProp = true" class="btn contact-method" ng-class="{active: application.soleProp == true}">Yes</a>
            <a ng-click="application.soleProp = false" class="btn contact-method" ng-class="{active: application.soleProp == false}">No</a>
        </div>
        
        <div class="span4">
            <p>How many years have you been in business?</p>
            <label>
            
            <input type="text" placeholder="" ng-model="application.yearsInBusiness"> Years</label>            
        </div>
        
        <div class="span6 offset3">
            <p class="alert" ng-show="message">{{message}}</p>
        </div>
        
    </div>
 
    <div class="row" ng-show="needsMoreInfo()">   
        
        <div class="span10 text-center offset1">
            <h3>Personal Guarantor</h3>
        </div>
        
        <div form-group form="ApplicationToolForm">
            
            <div class="row">
                
                <div class="span5 offset1">
                                
                    <label>Personal Guarantor Name</label>
                    <input type="text" class="input-block" placeholder="" ng-model="application.guarantor.contactPerson.name">
        
                </div>
                 
                <div class="span5"> 
                    
                    <!-- ############################################################ -->
                    <!-- ############## Guarantor Address One ####################### -->
                    <!-- ############################################################ -->
                    <label for="addressOneGuarantor">Address 1</label>
                    <input form-field type="text" name="addressOneGuarantor" id="addressOneGuarantor" class="input-block" placeholder="" ng-model="application.guarantor.homeAddress.address1" ng-blur="Validator.validateField(ApplicationToolForm.addressOneGuarantor, ApplicationToolForm)">
        
                    <div ng-show="ApplicationToolForm.FacultyErrors.addressOneGuarantor" class="alert alert-error alert-tooltip">
                        {{ApplicationToolForm.FacultyErrors.addressOneGuarantor}}
                    </div>
                    
                    <!-- ############################################################ -->
                    <!-- ############## Guarantor Address Two ####################### -->
                    <!-- ############################################################ -->
                    <label for="addressTwoGuarantor">Address 2</label>
                    <input form-field type="text" name="addressTwoGuarantor" id="addressTwoGuarantor" class="input-block" placeholder="" ng-model="application.guarantor.homeAddress.address2" ng-blur="Validator.validateField(ApplicationToolForm.addressTwoGuarantor, ApplicationToolForm)">
        
                     <div ng-show="ApplicationToolForm.FacultyErrors.addressTwoGuarantor" class="alert alert-error alert-tooltip">
                        {{ApplicationToolForm.FacultyErrors.addressTwoGuarantor}}
                    </div>
        
                    <!-- ############################################################ -->
                    <!-- ################## Guarantor City ########################## -->
                    <!-- ############################################################ -->
                    <label for="cityGuarantor">City</label>
                    <input form-field type="text" name="cityGuarantor" id="cityGuarantor" placeholder="" class="input-block" ng-model="application.guarantor.homeAddress.city" ng-blur="Validator.validateField(ApplicationToolForm.cityGuarantor, ApplicationToolForm)">
        
                    <div ng-show="ApplicationToolForm.FacultyErrors.cityGuarantor" class="alert alert-error alert-tooltip">
                        {{ApplicationToolForm.FacultyErrors.cityGuarantor}}
                    </div>
                    
                    <!-- ############################################################ -->
                    <!-- ################## Guarantor State ######################### -->
                    <!-- ############################################################ -->
                    <label for="stateGuarantor">State</label>
                    <select form-field class="input-block" name="stateGuarantor" id="stateGuarantor" ng-model="application.guarantor.homeAddress.state" ng-options="state.abbreviation as state.name for state in states2" ng-blur="Validator.validateField(ApplicationToolForm.stateGuarantor, ApplicationToolForm)"></select>
        
                    <div ng-show="ApplicationToolForm.FacultyErrors.stateGuarantor" class="alert alert-error alert-tooltip">
                        {{ApplicationToolForm.FacultyErrors.stateGuarantor}}
                    </div>
                    
                    <!-- ############################################################ -->
                    <!-- ##################### GuarantorZip ######################### -->
                    <!-- ############################################################ -->
                    <label for="zipGuarantor">Zip</label>
                    <input form-field type="text" name="zipGuarantor" id="zipGuarantor" placeholder="" class="input-block" ng-model="application.guarantor.homeAddress.zip" maxlength="5" ui-validate="{zip: 'Validator.validateZip($value)'}" ng-blur="Validator.validateField(ApplicationToolForm.zipGuarantor, ApplicationToolForm)">
        
                    <div ng-show="ApplicationToolForm.FacultyErrors.zipGuarantor" class="alert alert-error alert-tooltip">
                        {{ApplicationToolForm.FacultyErrors.zipGuarantor}}
                    </div>
                    
                    <!-- ############################################################ -->
                    <!-- ################ GuarantorZip Email ######################## -->
                    <!-- ############################################################ -->
                    <label for="contactEmailGuarantor">Email</label>
                    <input form-field type="email" name="contactEmailGuarantor" id="contactEmailGuarantor" class="input-block" placeholder="" ng-model="application.guarantor.contactPerson.email" ng-blur="Validator.validateField(ApplicationToolForm.contactEmailGuarantor, ApplicationToolForm)">
        
                    <div ng-show="ApplicationToolForm.FacultyErrors.contactEmailGuarantor" class="alert alert-error alert-tooltip">
                        {{ApplicationToolForm.FacultyErrors.contactEmailGuarantor}}
                    </div>
        
                    <!-- ############################################################ -->
                    <!-- ################ GuarantorZip Phone ######################## -->
                    <!-- ############################################################ -->
                    <label for="contactPhoneGuarantor">Phone</label>
                    <input form-field type="text" name="contactPhoneGuarantor" id="contactPhoneGuarantor" class="input-block" placeholder="" ng-model="application.guarantor.contactPerson.phone" ui-mask="(999) 999-9999" ng-blur="Validator.validateField(ApplicationToolForm.contactPhoneGuarantor, ApplicationToolForm)">
        
                    <div ng-show="ApplicationToolForm.FacultyErrors.contactPhoneGuarantor" class="alert alert-error alert-tooltip">
                        {{ApplicationToolForm.FacultyErrors.contactPhoneGuarantor}}
                    </div>
        
                </div>
                
            </div>
            
        </div>
    
    </div>

    <div form-group form="ApplicationToolForm">
        <div class="row" ng-show="!finished">
             
            <div class="span10 text-center offset1">
                <h3>Authorization</h3>
            </div> 
                
            <div class="span10 offset1">
                <label for="agreeToTerms" class="checkbox">
                <input form-field ui-validate="{agree: 'Validator.validateAgree($value)'}" name="agreeToTerms" id="agreeToTerms" type="checkbox" ng-model="application.agreeToTerms" ng-change="Validator.validateField(ApplicationToolForm.agreeToTerms, ApplicationToolForm)"/>
                By checking this box, each undersigned individual(s), who is either a principal of the credit applicant listed below or a personal guarantor of its obligations, provides written instruction to Faculty Creative or its designee (and any assignee or potential assignee thereof) authorizing review of his or her personal credit profile from a national credit bureau. Such authorization shall extend to obtaining a credit profile in considering the application of the credit applicant and subsequently for the purpose of update, renewal or extension of such credit and for reviewing or collecting the resulting account. A photostatic or facsimile copy of this authorization shall be as valid as the original.
                </label>
                
                <div ng-show="ApplicationToolForm.FacultyErrors.agreeToTerms" class="alert alert-error alert-tooltip">
                    {{ApplicationToolForm.FacultyErrors.agreeToTerms}}
                </div>
            </div>
        
        </div>
    </div>
    
    <div class="row" ng-show="!finished">
            
        <div class="span10 offset1 text-center">
            <hr />
            <button type="submit" class="btn btn-primary btn-mega" id="saveApplication" ng-click="saveApplication()">Submit Application</button>
        </div>
    
    </div>
    </div>

</form>

<div class="row" ng-show="finished">

    <div class="span6 offset3 text-center">
    
        <h1>Thanks, someone will contact you within 48 hours.</h1>
        
    </div>
    
</div>  

<div class="row" ng-show="!finished" ng-include="'app/templates/tools/shared/terms.html'"></div>